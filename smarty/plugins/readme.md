# Smarty Plugins Collection

Набор полезных плагинов для Smarty 3, которые облегчают выполнение различных задач в шаблонах.

## Оглавление

- [Установка](#установка)
- [Плагины](#плагины)
  - [get_params](#get_params)
  - [highlight](#highlight)
  - [topsecret](#topsecret)
  - [correct4pu](#correct4pu)
- [Лицензия](#лицензия)

## Установка

Чтобы подключить плагины в Smarty и избежать проблем при обновлении фреймворка, используйте отдельную папку для пользовательских плагинов.

### Пример настройки

```php
/**
 * Set const smarty folder
 */
const SMARTY_DIR = _SMARTY.'/';

/**
 * Require Smarty
 */
require_once _SMARTY."/Smarty.class.php";

/**
 * Init Smarty
 *
 * @var Smarty
 */
$smarty = new Smarty();

/**
 * Add folder users plugins for smarty
 */
$smarty->addPluginsDir(_LIB.'/smarty_plugins');
```

## Плагины

### get_params

**Тип:** Функция
**Назначение:** Генерация GET параметров

Очень полезный плагин для работы с GET параметрами. Позволяет передавать параметры на своих условиях, что особенно пригодится при постраничной навигации в каталогах с множественными фильтрами.

#### Параметры

- `prefix` - префикс перед строкой
- `suffix` - суффикс после строки
- `exclude` - GET параметры, которые нужно исключить
- `noentity` - использовать `&` вместо `&amp;`

#### Пример использования

```smarty
<a href="index.php?page={$page}{get_params prefix='&amp;' exclude='page'}">{$page}</a>
```

---

### highlight

**Тип:** Модификатор
**Назначение:** Выделение текста

Позволяет выделять определенные сегменты в тексте с помощью тега `<mark>`. Полезно для подсветки слов или фраз в большом объеме текста. Работает регистронезависимо.

#### Параметры

- `$text` - текст для обработки
- `$word` - слово для выделения

#### Пример использования

```smarty
{$data['text']|highlight:$word}
```

**Примечание:** Добавьте стили для тега `mark` в ваш CSS:

```css
mark {
    background-color: yellow;
    padding: 0 2px;
}
```

---

### topsecret

**Тип:** Модификатор
**Назначение:** Скрытие текста

Заменяет все символы текста на блоки (■), полностью скрывая содержимое. Полезно для демонстрации конфиденциальной информации.

#### Параметры

- `$text` - текст для обработки

#### Пример использования

```smarty
{$secret_data|topsecret}
```

Результат: ■■■■■■■■■■■■■■■■

---

### correct4pu

**Тип:** Output фильтр
**Назначение:** Коррекция URL в HTML

Автоматически корректирует href атрибуты в HTML коде, заменяя специальные символы в URL на разделители URI.

#### Особенности

- Обрабатывает все ссылки в HTML выводе
- Заменяет `?`, `&`, `=` на разделитель URI для ссылок начинающихся с `/`

#### Пример работы

Исходный HTML:
```html
<a href="/catalog?page=1&sort=price">Ссылка</a>
```

После обработки:
```html
<a href="/catalog/page/1/sort/price">Ссылка</a>
```

## Лицензия

Автор: alex Roosso & Jambik
Проект: [RooCMS](https://github.com/RooCMS/RooCMS)

---

*Часть проекта [Scriptics](../../README.md)*
